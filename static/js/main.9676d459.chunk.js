(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(46)},29:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),s=a.n(l),c=(a(29),a(5)),o=a(9),i=a(7),u=a(6),m=a(8),E=a(3),d=a(47),h=(a(32),a(19)),p=a(13),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleEnroll=function(e){e.preventDefault();var t=Object(p.a)(a.state.enrolled);/^([a-z]|[A-Z]){3}[0-9]{3}$/.exec(a.state.currentClass)&&a.state.enrolled.length<6?(t.push(a.state.currentClass),a.setState({enrolled:t,currentClass:"",inputErrorID:-1,enrollError:!1})):a.setState({inputErrorID:1,enrollError:!0})},a.handleDeleteEnroll=function(e){var t=a.state.enrolled.filter(function(t,a){return a!==e});a.setState({enrolled:t})},a.handleSubmit=function(e){e.preventDefault()},a.handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a}return Object(m.a)(t,e),t}(n.Component),b=function(e){return r.a.createElement("header",{className:"intro"},r.a.createElement("h1",null,"Class Database"),r.a.createElement("p",null,"Enter the name of the student. (Max 25 characters)"),r.a.createElement("p",null,"Enroll the classes that they're in. Class names should of the form (3 letters)(3 numbers). Click on an enrolled class to remove it."),r.a.createElement("p",null,"Click Create Entry to save to database."))},v=function(e){return r.a.createElement(n.Fragment,null,0===e.inputID&&e.nameError?r.a.createElement(d.a,{in:0===e.inputID&&e.nameError,appear:!0,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"inputWarning"},r.a.createElement("p",null,"Enter a name that's between 1 and 25 characters!"))):"",1===e.inputID&&e.enrollError?r.a.createElement(d.a,{in:1===e.inputID&&e.enrollError,appear:!0,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"inputWarning"},r.a.createElement("p",null,"Class names must be of the form (3 letters)(3 numbers)!"))):"",e.numEnrolled>6||e.numEnrolled<1?r.a.createElement(d.a,{in:e.numEnrolled>6||e.numEnrolled<1,appear:!0,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"inputWarning"},r.a.createElement("p",null,"You must enroll between 1 and 6 classes!"))):"")},C=function(e){return r.a.createElement("form",{className:"nameCreate"},r.a.createElement("label",{htmlFor:"name"},r.a.createElement("h4",null,"Enter student name:")),r.a.createElement("input",{type:"text",id:"name",name:"name",placeholder:"Enter student name",value:e.values,onChange:e.changes}),r.a.createElement(v,{inputID:e.inputErrorID,nameError:e.nameError}))},g=function(e){return r.a.createElement("form",{className:"enrollCreate"},r.a.createElement("label",{htmlFor:"enroll"},r.a.createElement("h4",null,"Add a class to enroll:")),r.a.createElement("input",{type:"text",name:"currentClass",id:"enroll",placeholder:"Enter class to enroll",value:e.values,onChange:e.changes}),r.a.createElement(v,{inputID:e.inputErrorID,enrollError:e.enrollError}))},S=function(e){return r.a.createElement(n.Fragment,null,e.anythingEnrolled?r.a.createElement("h3",null,"Enrolled Classes:"):r.a.createElement(n.Fragment,null),r.a.createElement(v,{numEnrolled:e.numEnrolled}),r.a.createElement("ul",{className:"enrolledList"},e.enrolled.map(function(t,a){return r.a.createElement("li",{key:a,index:a,onClick:function(){return e.handleDelete(a)},className:"enrolledLI"},r.a.createElement(d.a,{in:!0,appear:!0,timeout:300,classNames:"fade"},r.a.createElement("button",{className:"enrolledListButton"},t,r.a.createElement("label",{className:"visuallyHidden"},"Remove"),r.a.createElement("i",{className:"far fa-times-circle"}))))})))},y=a(17),k=a.n(y);k.a.initializeApp({apiKey:"AIzaSyBvQYeTe9Ji7jAoct7_bwGjVkHrWb7S018",authDomain:"fir-tutorial-app-f4724.firebaseapp.com",databaseURL:"https://fir-tutorial-app-f4724.firebaseio.com",projectId:"fir-tutorial-app-f4724",storageBucket:"fir-tutorial-app-f4724.appspot.com",messagingSenderId:"534736022006",appId:"1:534736022006:web:756caed7a3cd3e41"});var D=k.a,N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleCreate=function(t){var a=D.database().ref();e.state.name&&e.state.enrolled.length>0?(a.push({name:e.state.name,enrolled:e.state.enrolled}),e.setState({name:"",enrolled:[],currentClass:"",inputErrorID:-1,nameError:!1})):e.state.name?e.setState({inputErrorID:-1,nameError:!1}):e.setState({inputErrorID:0,nameError:!0})},e.state={name:"",enrolled:[],currentClass:"",inputErrorID:-1,nameError:!1,enrollError:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"innerWrapper create"},r.a.createElement(b,null),r.a.createElement("section",{className:"createForms",onSubmit:this.handleSubmit},r.a.createElement("h2",null,"Create Entry"),r.a.createElement(C,{changes:this.handleChange.bind(this),values:this.state.name,inputErrorID:this.state.inputErrorID,nameError:this.state.nameError}),r.a.createElement(g,{changes:this.handleChange.bind(this),values:this.state.currentClass,inputErrorID:this.state.inputErrorID,enrollError:this.state.enrollError}),r.a.createElement("button",{className:"enrollButton",onClick:this.handleEnroll.bind(this)},"Enroll"),r.a.createElement(S,{enrolled:this.state.enrolled,handleDelete:this.handleDeleteEnroll.bind(this),anythingEnrolled:this.state.enrolled.length>0,numEnrolled:this.state.enrolled.length}),r.a.createElement("button",{className:"createButton",onClick:this.handleCreate.bind(this)},"Create Entry"))))}}]),t}(f),I=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleSearch=function(){var t=D.database().ref();e.state.name?t.once("value",function(t){var a=!1;for(var n in t.val())if(t.val()[n].name===e.state.name){var r=t.val()[n];r.key=n,a=!0,e.setState({currentStudent:r,enrolled:t.val()[n].enrolled,inputErrorId:-1,nameError:!1})}a||e.setState({name:"",enrolled:[],currentClass:"",enrollError:!1,nameError:!1,inputErrorID:-1,currentStudent:{}})}):e.setState({inputErrorID:0,nameError:!0})},e.handleUpdate=function(){if(e.state.enrolled.length>0){var t=D.database().ref(e.state.currentStudent.key),a={enrolled:e.state.enrolled};t.update(a),e.setState({name:"",enrolled:[],currentClass:"",enrollError:!1,inputErrorID:-1,currentStudent:{}})}else e.setState({inputErrorID:-1,enrollError:!0})},e.state={name:"",enrolled:[],currentClass:"",enrollError:!1,nameError:!1,inputErrorID:-1,currentStudent:{}},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"innerWrapper update"},r.a.createElement("h2",null,"Update Existing Entries"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",id:"nameSearch",placeholder:"Search for student",value:this.state.name,onChange:this.handleChange}),r.a.createElement(v,{inputID:this.state.inputErrorID,nameError:this.state.nameError}),r.a.createElement("button",{onClick:this.handleSearch,className:"searchButton"},"Search")),Object.keys(this.state.currentStudent).length>=1?r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"Entry for ",this.state.currentStudent.name),r.a.createElement(g,{changes:this.handleChange.bind(this),values:this.state.currentClass,inputErrorID:this.state.inputErrorID,enrollError:this.state.enrollError}),r.a.createElement("button",{className:"enrollButton",onClick:this.handleEnroll.bind(this)},"Enroll"),r.a.createElement(S,{enrolled:this.state.enrolled,handleDelete:this.handleDeleteEnroll.bind(this),anythingEnrolled:this.state.enrolled.length>0,numEnrolled:this.state.enrolled.length}),r.a.createElement("button",{className:"updateButton",onClick:this.handleUpdate.bind(this)},"Update Entry")):r.a.createElement(n.Fragment,null))}}]),t}(f),j=function(e){return r.a.createElement(d.a,{in:e.openEntries.includes(e.i),appear:!0,timeout:900,classNames:"fade"},r.a.createElement("ul",{className:"expandedEnrolled"},e.openEntries.includes(e.i)?e.entry.enrolled.map(function(e,t){return r.a.createElement("li",{key:t},e)}):""))},O=function(e){var t={labelMessage:"Expand",caret:"down"};return r.a.createElement("ul",null,e.entries.map(function(a,l){return e.openEntries.includes(l)&&(t.labelMessage="Close",t.caret="up"),r.a.createElement(n.Fragment,{key:l},r.a.createElement("li",{index:l},r.a.createElement("button",{onClick:function(){return e.handleClick(l)}},a.name,r.a.createElement("label",{className:"visuallyHidden"},t.labelMessage),r.a.createElement("i",{className:"fas fa-caret-".concat(t.caret)}))),r.a.createElement(j,{openEntries:e.openEntries,i:l,entry:a}))}))},w=function(e){return r.a.createElement(d.a,{in:e.openEntries.includes(e.currentKey),appear:!0,timeout:900,classNames:"fade"},r.a.createElement("ul",{className:"expandedEnrolled"},e.openEntries.includes(e.currentKey)?e.studentsIn.map(function(e,t){return r.a.createElement("li",{key:t},e)}):""))},x=function(e){var t={labelMessage:"Expand",caret:"down"};return r.a.createElement(n.Fragment,null,r.a.createElement("ul",null,Object.keys(e.classStudents).map(function(a){return e.openEntries.includes(a)&&(t.labelMessage="Close",t.caret="up"),r.a.createElement(n.Fragment,null,r.a.createElement("li",{key:a,index:a},r.a.createElement("button",{onClick:function(){return e.handleClick(a)}},a,r.a.createElement("label",{className:"visuallyHidden"},t.labelMessage),r.a.createElement("i",{className:"fas fa-caret-".concat(t.caret)}))),r.a.createElement(w,{openEntries:e.openEntries,currentKey:a,studentsIn:e.classStudents[a]}))})))},F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).parseClasses=function(t){for(var a=[],n={},r=0;r<t.length;r++)for(var l=t[r].enrolled,s=t[r].name,c=0;c<l.length;c++)a.includes(l[c])||a.push(l[c]),n.hasOwnProperty(l[c])?n[l[c]].push(s):n[l[c]]=[s];e.setState({classes:a,classStudents:n})},e.handleClassClick=function(t){Object(p.a)(e.state.openEntries)},e.handleClick=function(t){var a=Object(p.a)(e.state.openEntries);a.includes(t)?a=a.filter(function(e){return e!==t}):a.push(t),e.setState({openEntries:a})},e.state={entries:[],openEntries:[],numClasses:0,classes:[],classStudents:{},numStudents:0},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.database().ref().on("value",function(t){var a=[];for(var n in t.val())a.push({name:t.val()[n].name,enrolled:t.val()[n].enrolled});e.parseClasses(a),e.setState({numStudents:a.length,entries:a})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"innerWrapper stats"},r.a.createElement("h2",null,"Info Summary:"),r.a.createElement("p",null,"Students: ",this.state.numStudents),r.a.createElement("p",null,"Classes: ",this.state.classes.length),r.a.createElement(E.d,null,r.a.createElement(E.b,null,r.a.createElement(E.a,null,"Students"),r.a.createElement(E.a,null,"Classes")),r.a.createElement(E.c,null,r.a.createElement(d.a,{in:!0,appear:!0,timeout:900,classNames:"fade"},r.a.createElement(O,{entries:this.state.entries,handleClick:this.handleClick,openEntries:this.state.openEntries}))),r.a.createElement(E.c,null,r.a.createElement(d.a,{in:!0,appear:!0,timeout:900,classNames:"fade"},r.a.createElement(x,{classStudents:this.state.classStudents,handleClick:this.handleClick,openEntries:this.state.openEntries})))))}}]),t}(n.Component),B=(a(45),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App outerWrapper"},r.a.createElement(E.d,null,r.a.createElement(E.b,null,r.a.createElement(E.a,null,"Create"),r.a.createElement(E.a,null,"Update"),r.a.createElement(E.a,null,"Stats")),r.a.createElement(E.c,null,r.a.createElement(d.a,{in:!0,appear:!0,timeout:900,classNames:"fade"},r.a.createElement(N,null))),r.a.createElement(E.c,null,r.a.createElement(d.a,{in:!0,appear:!0,timeout:900,classNames:"fade"},r.a.createElement(I,null))),r.a.createElement(E.c,null,r.a.createElement(d.a,{in:!0,appear:!0,timeout:900,classNames:"fade"},r.a.createElement(F,null)))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.9676d459.chunk.js.map